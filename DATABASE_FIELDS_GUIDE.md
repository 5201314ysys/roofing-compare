# æ•°æ®åº“å­—æ®µè¯´æ˜ä¸ç½‘ç«™å±•ç¤ºæŒ‡å—

## ğŸ“‹ æ‰¿åŒ…å•†è¡¨ (contractors) å­—æ®µè¯¦è§£

### ğŸ¢ åŸºæœ¬ä¿¡æ¯å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `id` | UUID | å”¯ä¸€æ ‡è¯†ç¬¦ | ä¸å±•ç¤ºï¼ˆå†…éƒ¨ä½¿ç”¨ï¼‰ |
| `name` | VARCHAR(255) | å…¬å¸åç§° | âœ… åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µæ ‡é¢˜ |
| `initial` | CHAR(1) | å…¬å¸é¦–å­—æ¯ | âœ… åˆ—è¡¨é¡µå¤´åƒåœ†åœˆ |
| `city` | VARCHAR(100) | åŸå¸‚ | âœ… åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µåœ°å€ |
| `state` | VARCHAR(50) | å· | âœ… åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µåœ°å€ |
| `address` | TEXT | å®Œæ•´åœ°å€ | âœ… è¯¦æƒ…é¡µåœ°å›¾ä½ç½® |
| `zip_code` | VARCHAR(20) | é‚®æ”¿ç¼–ç  | âœ… è¯¦æƒ…é¡µåœ°å€ |

### ğŸ“ è”ç³»æ–¹å¼å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `phone` | VARCHAR(50) | ç”µè¯å·ç  | âœ… è¯¦æƒ…é¡µ"ç«‹å³è‡´ç”µ"æŒ‰é’® |
| `email` | VARCHAR(255) | é‚®ç®±åœ°å€ | âœ… è¯¦æƒ…é¡µ"å‘é€é‚®ä»¶"æŒ‰é’® |
| `website` | VARCHAR(500) | å®˜æ–¹ç½‘ç«™ | âœ… è¯¦æƒ…é¡µ"è®¿é—®å®˜ç½‘"é“¾æ¥ |

### ğŸ”— ç¤¾äº¤åª’ä½“å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `facebook_url` | VARCHAR(500) | Facebooké¡µé¢ | âœ… è¯¦æƒ…é¡µç¤¾äº¤åª’ä½“å›¾æ ‡ |
| `instagram_url` | VARCHAR(500) | Instagramè´¦å· | âœ… è¯¦æƒ…é¡µç¤¾äº¤åª’ä½“å›¾æ ‡ |
| `linkedin_url` | VARCHAR(500) | LinkedInä¸»é¡µ | âœ… è¯¦æƒ…é¡µç¤¾äº¤åª’ä½“å›¾æ ‡ |

### ğŸ“ å…¬å¸è¯¦æƒ…å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `description` | TEXT | å…¬å¸ä»‹ç» | âœ… è¯¦æƒ…é¡µ"å…³äºå…¬å¸"éƒ¨åˆ† |
| `license_number` | VARCHAR(100) | è¥ä¸šæ‰§ç…§å· | âœ… è¯¦æƒ…é¡µè®¤è¯ä¿¡æ¯ |
| `founded_year` | INTEGER | æˆç«‹å¹´ä»½ | âœ… è¯¦æƒ…é¡µ"XXå¹´ç»éªŒ" |
| `employee_count` | INTEGER | å‘˜å·¥æ•°é‡ | âœ… è¯¦æƒ…é¡µå…¬å¸è§„æ¨¡ |
| `insurance_verified` | BOOLEAN | ä¿é™©è®¤è¯ | âœ… è¯¦æƒ…é¡µè®¤è¯å¾½ç«  |
| `bonded` | BOOLEAN | æ‹…ä¿è®¤è¯ | âœ… è¯¦æƒ…é¡µè®¤è¯å¾½ç«  |

### ğŸ› ï¸ æœåŠ¡ä¿¡æ¯å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `service_areas` | TEXT[] | æœåŠ¡åŒºåŸŸåˆ—è¡¨ | âœ… è¯¦æƒ…é¡µ"æœåŠ¡åŒºåŸŸ"éƒ¨åˆ† |
| `specialties` | TEXT[] | ä¸“ä¸šé¢†åŸŸ | âœ… åˆ—è¡¨é¡µæ ‡ç­¾ã€è¯¦æƒ…é¡µæœåŠ¡ç±»å‹ |
| `emergency_service` | BOOLEAN | æ˜¯å¦æä¾›ç´§æ€¥æœåŠ¡ | âœ… åˆ—è¡¨é¡µ"24/7ç´§æ€¥æœåŠ¡"å¾½ç«  |
| `warranty_years` | INTEGER | è´¨ä¿å¹´é™ | âœ… è¯¦æƒ…é¡µ"XXå¹´è´¨ä¿"å¾½ç«  |

### â­ è¯„åˆ†å’Œè¯„ä»·å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `rating` | NUMERIC(3,2) | æ˜Ÿçº§è¯„åˆ†(0-5) | âœ… åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µæ˜Ÿæ˜Ÿå›¾æ ‡ |
| `review_count` | INTEGER | è¯„è®ºæ•°é‡ | âœ… åˆ—è¡¨é¡µ"(123æ¡è¯„è®º)" |
| `bbb_rating` | VARCHAR(10) | BBBè¯„çº§ | âœ… è¯¦æƒ…é¡µè®¤è¯å¾½ç«  |

### ğŸ¢ è¥ä¸šä¿¡æ¯å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `business_hours` | JSONB | è¥ä¸šæ—¶é—´ | âœ… è¯¦æƒ…é¡µ"è¥ä¸šæ—¶é—´"éƒ¨åˆ† |
| `logo_url` | VARCHAR(500) | Logoå›¾ç‰‡URL | âœ… åˆ—è¡¨é¡µã€è¯¦æƒ…é¡µå…¬å¸Logo |

### ğŸ’° é¡¹ç›®ç»Ÿè®¡å­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `total_projects` | INTEGER | æ€»é¡¹ç›®æ•° | âœ… åˆ—è¡¨é¡µ"å·²å®ŒæˆXXä¸ªé¡¹ç›®" |
| `total_value` | NUMERIC(12,2) | æ€»é¡¹ç›®é‡‘é¢ | âœ… è¯¦æƒ…é¡µç»Ÿè®¡ä¿¡æ¯ |
| `avg_quote` | NUMERIC(10,2) | å¹³å‡æŠ¥ä»· | âœ… åˆ—è¡¨é¡µï¼ˆéœ€ä»˜è´¹æŸ¥çœ‹ï¼‰ |
| `contractor_price` | NUMERIC(10,2) | æ‰¿åŒ…å•†åº•ä»· | ğŸ”’ ä»˜è´¹ä¼šå‘˜æ‰èƒ½æŸ¥çœ‹ |

### ğŸ”§ ç³»ç»Ÿå­—æ®µ
| å­—æ®µå | ç±»å‹ | è¯´æ˜ | ç½‘ç«™å±•ç¤ºä½ç½® |
|--------|------|------|-------------|
| `verified_at` | TIMESTAMP | è®¤è¯æ—¶é—´ | âœ… åˆ—è¡¨é¡µ"å·²è®¤è¯"å¾½ç«  |
| `first_permit_date` | DATE | é¦–ä¸ªè®¸å¯è¯æ—¥æœŸ | âœ… è¯¦æƒ…é¡µ"æˆç«‹äºXXå¹´" |
| `last_permit_date` | DATE | æœ€æ–°è®¸å¯è¯æ—¥æœŸ | âœ… è¯¦æƒ…é¡µ"æœ€è¿‘æ´»è·ƒ" |
| `is_featured` | BOOLEAN | æ˜¯å¦ä¸ºæ¨è | âœ… åˆ—è¡¨é¡µç½®é¡¶ã€"æ¨è"å¾½ç«  |
| `is_active` | BOOLEAN | æ˜¯å¦è¥ä¸šä¸­ | âœ… è¯¦æƒ…é¡µ"è¥ä¸šä¸­/å·²å…³é—­" |

---

## ğŸ¨ ç½‘ç«™å±•ç¤ºå»ºè®®

### 1ï¸âƒ£ é¦–é¡µ/åˆ—è¡¨é¡µåº”è¯¥æ˜¾ç¤ºï¼š
- âœ… å…¬å¸åç§° + Logo (`name`, `logo_url`, `initial`)
- âœ… åŸå¸‚å’Œå· (`city`, `state`)
- âœ… æ˜Ÿçº§è¯„åˆ† + è¯„è®ºæ•° (`rating`, `review_count`)
- âœ… å·²å®Œæˆé¡¹ç›®æ•° (`total_projects`)
- âœ… ä¸“ä¸šé¢†åŸŸæ ‡ç­¾ (`specialties`)
- âœ… è®¤è¯å¾½ç«  (`verified_at`, `insurance_verified`, `bonded`)
- âœ… ç´§æ€¥æœåŠ¡å¾½ç«  (`emergency_service`)
- âœ… æ¨èæ ‡è¯† (`is_featured`)
- ğŸ”’ å¹³å‡æŠ¥ä»·ï¼ˆæ¨¡ç³Šæ˜¾ç¤ºæˆ–é”å®šï¼‰(`avg_quote`)
- ğŸ”’ æ‰¿åŒ…å•†åº•ä»·ï¼ˆå®Œå…¨é”å®šï¼‰(`contractor_price`)

### 2ï¸âƒ£ è¯¦æƒ…é¡µåº”è¯¥æ˜¾ç¤ºï¼š
**é¡¶éƒ¨åŒºåŸŸï¼š**
- âœ… å…¬å¸Logoå’Œåç§°
- âœ… æ˜Ÿçº§è¯„åˆ† + è¯„è®ºæ•°
- âœ… åœ°å€ + åœ°å›¾å®šä½
- âœ… è”ç³»æŒ‰é’®ï¼ˆæ‰“ç”µè¯ã€å‘é‚®ä»¶ã€è®¿é—®å®˜ç½‘ï¼‰

**å…³äºå…¬å¸ï¼š**
- âœ… å…¬å¸ä»‹ç» (`description`)
- âœ… æˆç«‹å¹´ä»½/ç»éªŒå¹´æ•° (`founded_year`)
- âœ… å‘˜å·¥æ•°é‡ (`employee_count`)

**æœåŠ¡ä¿¡æ¯ï¼š**
- âœ… ä¸“ä¸šé¢†åŸŸåˆ—è¡¨ (`specialties`)
- âœ… æœåŠ¡åŒºåŸŸ (`service_areas`)
- âœ… è´¨ä¿å¹´é™ (`warranty_years`)
- âœ… ç´§æ€¥æœåŠ¡å¯ç”¨æ€§ (`emergency_service`)

**è®¤è¯å’Œèµ„è´¨ï¼š**
- âœ… è¥ä¸šæ‰§ç…§å· (`license_number`)
- âœ… ä¿é™©è®¤è¯ (`insurance_verified`)
- âœ… æ‹…ä¿è®¤è¯ (`bonded`)
- âœ… BBBè¯„çº§ (`bbb_rating`)

**è¥ä¸šä¿¡æ¯ï¼š**
- âœ… è¥ä¸šæ—¶é—´ (`business_hours`)
- âœ… è¥ä¸šçŠ¶æ€ (`is_active`)

**é¡¹ç›®ç»Ÿè®¡ï¼š**
- âœ… å·²å®Œæˆé¡¹ç›®æ€»æ•° (`total_projects`)
- âœ… æ€»é¡¹ç›®é‡‘é¢ (`total_value`)
- âœ… æœ€è¿‘é¡¹ç›®åˆ—è¡¨ï¼ˆé€šè¿‡`get_contractor_details`å‡½æ•°è·å–ï¼‰

**ç¤¾äº¤åª’ä½“ï¼š**
- âœ… Facebookã€Instagramã€LinkedIné“¾æ¥

### 3ï¸âƒ£ æœç´¢/ç­›é€‰åŠŸèƒ½ï¼š
- æŒ‰åç§°æœç´¢ (`name`)
- æŒ‰åŸå¸‚ç­›é€‰ (`city`)
- æŒ‰å·ç­›é€‰ (`state`)
- æŒ‰è¯„åˆ†ç­›é€‰ (`rating >= X`)
- æŒ‰ä¸“ä¸šé¢†åŸŸç­›é€‰ (`specialties`)
- æŒ‰ä»·æ ¼èŒƒå›´ç­›é€‰ (`avg_quote`)
- åªæ˜¾ç¤ºç´§æ€¥æœåŠ¡ (`emergency_service = true`)
- åªæ˜¾ç¤ºè®¤è¯å…¬å¸ (`insurance_verified = true`)

---

## ğŸ” å¯ç”¨çš„æ•°æ®åº“è§†å›¾å’Œå‡½æ•°

### è§†å›¾ (Views)
1. **`top_contractors`** - çƒ­é—¨æ‰¿åŒ…å•†ï¼ˆç”¨äºåˆ—è¡¨é¡µï¼‰
2. **`featured_contractors`** - æ¨èæ‰¿åŒ…å•†ï¼ˆç”¨äºé¦–é¡µbannerï¼‰
3. **`contractor_stats_by_city`** - æŒ‰åŸå¸‚ç»Ÿè®¡ï¼ˆç”¨äºåœ°åŒºåˆ†æï¼‰
4. **`contractors_by_specialty`** - æŒ‰æœåŠ¡ç±»å‹ç»Ÿè®¡

### å‡½æ•° (Functions)
1. **`get_contractor_summary()`** - è·å–æ€»ä½“ç»Ÿè®¡
2. **`search_contractors(...)`** - å¤šæ¡ä»¶æœç´¢æ‰¿åŒ…å•†
3. **`get_contractor_details(uuid)`** - è·å–æ‰¿åŒ…å•†å®Œæ•´ä¿¡æ¯

---

## ğŸ“Š æ•°æ®ç¤ºä¾‹

### business_hours JSONæ ¼å¼ç¤ºä¾‹ï¼š
```json
{
  "monday": "8:00 AM - 5:00 PM",
  "tuesday": "8:00 AM - 5:00 PM",
  "wednesday": "8:00 AM - 5:00 PM",
  "thursday": "8:00 AM - 5:00 PM",
  "friday": "8:00 AM - 5:00 PM",
  "saturday": "9:00 AM - 1:00 PM",
  "sunday": "Closed"
}
```

### specialties æ•°ç»„ç¤ºä¾‹ï¼š
```sql
ARRAY['Residential Roofing', 'Metal Roofing', 'Roof Repair', 'Emergency Service']
```

### service_areas æ•°ç»„ç¤ºä¾‹ï¼š
```sql
ARRAY['Miami', 'Fort Lauderdale', 'West Palm Beach', 'Boca Raton']
```

---

## ğŸ’¡ å®æ–½å»ºè®®

### ä¼˜å…ˆçº§ P0ï¼ˆå¿…é¡»å±•ç¤ºï¼‰ï¼š
- å…¬å¸åç§°ã€åŸå¸‚ã€è¯„åˆ†ã€é¡¹ç›®æ•°
- è”ç³»æ–¹å¼ï¼ˆç”µè¯ã€ç½‘ç«™ï¼‰
- ä»·æ ¼ä¿¡æ¯ï¼ˆä»˜è´¹å¢™ï¼‰

### ä¼˜å…ˆçº§ P1ï¼ˆå¼ºçƒˆå»ºè®®ï¼‰ï¼š
- Logoå›¾ç‰‡
- ä¸“ä¸šé¢†åŸŸæ ‡ç­¾
- è®¤è¯å¾½ç« 
- å…¬å¸ä»‹ç»

### ä¼˜å…ˆçº§ P2ï¼ˆå¢å€¼åŠŸèƒ½ï¼‰ï¼š
- è¥ä¸šæ—¶é—´
- ç¤¾äº¤åª’ä½“é“¾æ¥
- æœåŠ¡åŒºåŸŸ
- æœ€è¿‘é¡¹ç›®åˆ—è¡¨

### ä¼˜å…ˆçº§ P3ï¼ˆå¯é€‰ï¼‰ï¼š
- BBBè¯„çº§
- æˆç«‹å¹´ä»½
- å‘˜å·¥æ•°é‡
- è´¨ä¿å¹´é™
