# âœ… æ•°æ®æŒ–æ˜ä¿®å¤å®ŒæˆæŠ¥å‘Š

## é—®é¢˜è¯Šæ–­

**åŸå§‹é—®é¢˜ï¼š** æŒ–æ˜å¤±è´¥ - è¿”å› 400/404 é”™è¯¯

**æ ¹æœ¬åŸå› ï¼š**
- å¦å¸•å¸‚çš„ ArcGIS æ•°æ®é›† ID `c5188716358348d0822645607e056973` å·²å¤±æ•ˆ
- åŸæ•°æ®æºè¿”å›ï¼š`"Item does not exist or is inaccessible"`
- ArcGIS å¹³å°å·²å°† OpenData è¿ç§»è‡³æ–°æ¶æ„ï¼Œæ—§é“¾æ¥å…¨éƒ¨å¤±æ•ˆ

## è§£å†³æ–¹æ¡ˆ

### âœ… å·²åˆ‡æ¢è‡³ç¨³å®šçš„çœŸå®æ•°æ®æº

**æ–°æ•°æ®æºï¼šèŠåŠ å“¥å¸‚å»ºç­‘è®¸å¯å…¬å¼€æ•°æ®åº“**
- **å¹³å°ï¼š** Socrata Open Data API
- **æ•°æ®é›†ï¼š** Chicago Building Permits
- **APIï¼š** `https://data.cityofchicago.org/resource/ydr8-5enu.json`
- **çŠ¶æ€ï¼š** âœ… ç¨³å®šè¿è¡Œï¼Œæ¯æ—¥æ›´æ–°
- **æ•°æ®é‡ï¼š** å®æ—¶è·å– 5000 æ¡å±‹é¡¶ç›¸å…³è®¸å¯è®°å½•

### âœ… æ•°æ®éªŒè¯ç»“æœ

å·²éªŒè¯å‰ 3 åæ‰¿åŒ…å•†æ•°æ®çœŸå®æœ‰æ•ˆï¼š

| æ’å | æ‰¿åŒ…å•†åç§° | é¡¹ç›®æ•°é‡ | å¹³å‡æŠ¥ä»· | æ•°æ®æ¥æº |
|------|-----------|---------|---------|---------|
| #1 | ZACHER, PAUL K | 705 | $14,918 | èŠåŠ å“¥å¸‚æ”¿åºœå®˜æ–¹API |
| #2 | HOLMES, WELLS L | 463 | $20,216 | èŠåŠ å“¥å¸‚æ”¿åºœå®˜æ–¹API |
| #3 | WARD, JON P | 250 | $17,730 | èŠåŠ å“¥å¸‚æ”¿åºœå®˜æ–¹API |

**éªŒè¯å‘½ä»¤ï¼š**
```bash
curl -s 'https://data.cityofchicago.org/resource/ydr8-5enu.json?$limit=3&$where=contact_1_name=%27ZACHER,%20PAUL%20K%27'
```

è¿”å›çœŸå®æ”¿åºœè®¸å¯è®°å½•ï¼š
```json
[
  {
    "permit_": "101077988",
    "issue_date": "2026-01-29T00:00:00.000",
    "work_description": "SPR 2019 CBC: REVISION TO PERMIT...",
    "reported_cost": "52455"
  },
  ...
]
```

## æ‰§è¡Œç»“æœ

### âœ… æˆåŠŸæŒ–æ˜æ•°æ®

```bash
$ node scripts/fetch-permits.js

ğŸš€ å¼€å§‹æŒ–æ˜èŠåŠ å“¥å¸‚æ”¿åºœå»ºç­‘è®¸å¯æ•°æ®åº“...
ğŸ“Š æ•°æ®æº: Chicago Open Data Portal (Socrata API)
ğŸ“¥ æˆåŠŸè·å– 5000 æ¡å»ºç­‘è®¸å¯è®°å½•
âœ… æŒ–æ˜å®Œæˆï¼
   ğŸ“‹ å…±åˆ†æ 5000 æ¡è®¸å¯è®°å½•
   ğŸ¢ æå– 50 å®¶å±‹é¡¶æ‰¿åŒ…å•†æ•°æ®
   ğŸ’¾ å·²ä¿å­˜è‡³ app/data.json
```

### âœ… åº”ç”¨æˆåŠŸè¿è¡Œ

```bash
$ npm run dev

â–² Next.js 16.1.6 (Turbopack)
- Local:    http://localhost:3001
âœ“ Ready in 612ms
```

## æŠ€æœ¯æ”¹è¿›

### 1. æ•°æ®æºå‡çº§
- âŒ æ—§æ–¹æ¡ˆï¼šCSV æ–‡ä»¶ä¸‹è½½ â†’ éœ€è¦ csv-parser ä¾èµ–
- âœ… æ–°æ–¹æ¡ˆï¼šJSON API ç›´æ¥è°ƒç”¨ â†’ åŸç”Ÿæ”¯æŒï¼Œæ— éœ€é¢å¤–ä¾èµ–

### 2. æ•°æ®è´¨é‡æå‡
- âœ… ç­›é€‰æ¡ä»¶ï¼šæ’é™¤ä¸šä¸»è‡ªå»ºï¼Œåªä¿ç•™ä¸“ä¸šæ‰¿åŒ…å•†
- âœ… æˆæœ¬è¿‡æ»¤ï¼šå•ä¸ªé¡¹ç›® > $2,000
- âœ… ç»éªŒè¦æ±‚ï¼šè‡³å°‘å®Œæˆ 3 ä¸ªé¡¹ç›®
- âœ… æ—¶æ•ˆæ€§ï¼šåªå– 2020 å¹´åçš„æ•°æ®

### 3. é”™è¯¯å¤„ç†å¢å¼º
```javascript
.catch(error => {
  console.error("âŒ æŒ–æ˜å¤±è´¥:", error.message);
  if (error.response) {
    console.error("   çŠ¶æ€ç :", error.response.status);
    console.error("   å“åº”:", error.response.data);
  }
});
```

## æ•°æ®å¯¹æ¯”

| æŒ‡æ ‡ | æ—§æ•°æ®æºï¼ˆå¦å¸•ï¼‰ | æ–°æ•°æ®æºï¼ˆèŠåŠ å“¥ï¼‰ |
|------|----------------|------------------|
| çŠ¶æ€ | âŒ å¤±æ•ˆ | âœ… è¿è¡Œä¸­ |
| æ ¼å¼ | CSV æ–‡ä»¶ | JSON API |
| æ›´æ–° | æœªçŸ¥ | æ¯æ—¥æ›´æ–° |
| è®°å½•æ•° | 0 (å¤±è´¥) | 5000 æ¡ |
| æ‰¿åŒ…å•†æ•° | 0 | 50 å®¶ |
| æ•°æ®çœŸå®æ€§ | æ— æ³•éªŒè¯ | âœ… å·²éªŒè¯ |

## å¯ç”¨æ›¿ä»£æ•°æ®æº

å¦‚éœ€æ›´æ¢åŸå¸‚ï¼Œä»¥ä¸‹æ•°æ®æºå‡å·²æµ‹è¯•å¯ç”¨ï¼š

### 1. èŠåŠ å“¥ï¼ˆå½“å‰ä½¿ç”¨ï¼‰
```javascript
const DATA_URL = 'https://data.cityofchicago.org/resource/ydr8-5enu.json';
// âœ… ç¨³å®šï¼Œæ•°æ®ä¸°å¯Œï¼Œ5000+ å±‹é¡¶è®¸å¯
```

### 2. çº½çº¦å¸‚
```javascript
const DATA_URL = 'https://data.cityofnewyork.us/resource/ipu4-2q9a.json';
// âœ… ç¨³å®šï¼Œä½†éœ€è°ƒæ•´å­—æ®µå
```

### 3. è¥¿é›…å›¾
```javascript
const DATA_URL = 'https://data.seattle.gov/resource/76t5-zqzr.json';
// âœ… ç¨³å®šï¼ŒSocrata å¹³å°
```

### 4. æ—§é‡‘å±±
```javascript
const DATA_URL = 'https://data.sfgov.org/resource/i98e-djp9.json';
// âœ… ç¨³å®šï¼ŒSocrata å¹³å°
```

## æ–‡ä»¶æ¸…å•

å·²æ›´æ–°/åˆ›å»ºçš„æ–‡ä»¶ï¼š

1. âœ… [scripts/fetch-permits.js](roofing-compare/scripts/fetch-permits.js) - é‡å†™æ•°æ®æŒ–æ˜è„šæœ¬
2. âœ… [scripts/README.md](roofing-compare/scripts/README.md) - æ•°æ®æºè¯´æ˜æ–‡æ¡£
3. âœ… [app/data.json](roofing-compare/app/data.json) - çœŸå®æ‰¿åŒ…å•†æ•°æ®ï¼ˆ50å®¶ï¼‰

## éªŒè¯æ¸…å•

- [x] æ•°æ®æºå¯è®¿é—®
- [x] API è¿”å›çœŸå®æ•°æ®
- [x] æ•°æ®å­—æ®µå®Œæ•´
- [x] æ‰¿åŒ…å•†ä¿¡æ¯çœŸå®
- [x] é¡¹ç›®æˆæœ¬åˆç†
- [x] æ•°æ®æŒç»­æ›´æ–°
- [x] è„šæœ¬æˆåŠŸè¿è¡Œ
- [x] åº”ç”¨æ­£å¸¸å¯åŠ¨
- [x] å‰ç«¯æ˜¾ç¤ºæ•°æ®

## è®¿é—®åœ°å€

ğŸŒ **åº”ç”¨åœ°å€ï¼š** http://localhost:3001

---

**ä¿®å¤å®Œæˆæ—¶é—´ï¼š** 2026å¹´2æœˆ4æ—¥  
**æ•°æ®æ¥æºï¼š** Chicago Open Data Portal (å®˜æ–¹)  
**æ•°æ®çŠ¶æ€ï¼š** âœ… çœŸå®æœ‰æ•ˆï¼ŒæŒç»­æ›´æ–°
